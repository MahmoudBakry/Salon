{"version":3,"sources":["../../src/models/payment.model.js"],"names":["PaymentSchema","appointment","type","Number","ref","required","client","employee","services","discount","actualTotalPrice","finalTotalPrice","creationDate","Date","default","set","transform","doc","ret","options","id","_id","__v","initialize","connection","plugin","model","startAt"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,gBAAgB,qBAAW;AAC7BC,iBAAa;AACTC,cAAMC,MADG;AAETC,aAAK,aAFI;AAGTC,kBAAU;AAHD,KADgB;AAM7BC,YAAQ;AACJJ,cAAMC,MADF;AAEJC,aAAK;AAFD,KANqB;AAU7BG,cAAU;AACNL,cAAMC,MADA;AAENC,aAAK;AAFC,KAVmB;AAc7BI,cAAU,CAAC;AACPN,cAAMC,MADC;AAEPC,aAAK;AAFE,KAAD,CAdmB;AAkB7BK,cAAU;AACNP,cAAMC;AADA,KAlBmB;AAqB7BO,sBAAkB;AACdR,cAAMC;AADQ,KArBW;AAwB7BQ,qBAAiB;AACbT,cAAMC;AADO,KAxBY;AA2B7BS,kBAAe;AACXV,cAAMW,IADK;AAEXC,iBAAU,IAAID,IAAJ;AAFC;AA3Bc,CAAX,CAAtB;;AAiCAb,cAAce,GAAd,CAAkB,QAAlB,EAA4B;AACxBC,eAAW,mBAAUC,GAAV,EAAeC,GAAf,EAAoBC,OAApB,EAA6B;AACpCD,YAAIE,EAAJ,GAASF,IAAIG,GAAb;;AAEA,eAAOH,IAAIG,GAAX;AACA,eAAOH,IAAII,GAAX;AACH;AANuB,CAA5B;;AASA,gCAAcC,UAAd,CAAyB,mBAASC,UAAlC;AACAxB,cAAcyB,MAAd,CAAqB,gCAAcA,MAAnC,EAA2C;AACvCC,WAAO,SADgC;AAEvCC,aAAS;AAF8B,CAA3C;;kBAKe,mBAASD,KAAT,CAAe,SAAf,EAA0B1B,aAA1B,C","file":"payment.model.js","sourcesContent":["import mongoose, { Schema } from \"mongoose\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport autoIncrement from 'mongoose-auto-increment';\r\n\r\nconst PaymentSchema = new Schema({\r\n    appointment: {\r\n        type: Number,\r\n        ref: \"appointment\",\r\n        required: true\r\n    },\r\n    client: {\r\n        type: Number,\r\n        ref: 'client'\r\n    },\r\n    employee: {\r\n        type: Number,\r\n        ref: 'employee'\r\n    },\r\n    services: [{\r\n        type: Number,\r\n        ref: 'service'\r\n    }],\r\n    discount: {\r\n        type: Number\r\n    },\r\n    actualTotalPrice: {\r\n        type: Number\r\n    },\r\n    finalTotalPrice: {\r\n        type: Number,\r\n    },\r\n    creationDate : {\r\n        type: Date,\r\n        default : new Date()\r\n    }\r\n});\r\n\r\nPaymentSchema.set('toJSON', {\r\n    transform: function (doc, ret, options) {\r\n        ret.id = ret._id;\r\n\r\n        delete ret._id;\r\n        delete ret.__v;\r\n    }\r\n});\r\n\r\nautoIncrement.initialize(mongoose.connection);\r\nPaymentSchema.plugin(autoIncrement.plugin, {\r\n    model: 'payment',\r\n    startAt: 1,\r\n});\r\n\r\nexport default mongoose.model(\"payment\", PaymentSchema);"]}